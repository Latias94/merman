# XYChart Upstream Test Coverage (Mermaid@11.12.2)

This document tracks which upstream Mermaid XYChart parser tests are covered in `merman` via:

- snapshot fixtures under `fixtures/xychart/*.mmd` (goldens generated by `cargo run -p xtask -- update-snapshots`)
- Rust unit tests under `crates/merman-core/src/diagrams/xychart.rs`
- upstream SVG baselines under `fixtures/upstream-svgs/xychart/*.svg` (generated by `cargo run -p xtask -- gen-upstream-svgs --diagram xychart`)
- SVG DOM parity compare via `cargo run -p xtask -- compare-xychart-svgs --check-dom --dom-mode parity --dom-decimals 3`

Scope: Mermaid tag `@11.12.2`.

Source: `repo-ref/mermaid/packages/mermaid/src/diagrams/xychart/parser/xychart.jison.spec.ts`

- header only (parser-only; upstream renderer requires at least one plot): `fixtures/xychart/upstream_xychart_header_only_jison_spec_parser_only_.mmd`
- title parsing (quoted + unquoted; parser-only; upstream renderer requires at least one plot): `fixtures/xychart/upstream_xychart_title_variants_jison_spec_parser_only_.mmd`
- orientation + axes + multiple plots: `fixtures/xychart/upstream_xychart_orientation_and_axes_jison_spec.mmd`
- axis range-only variants: `fixtures/xychart/upstream_xychart_axis_range_only_jison_spec.mmd`
- axis titles only (auto-derives ranges on first plot): `fixtures/xychart/upstream_xychart_axes_titles_only_then_plots_jison_spec.mmd`
- axis title + decimal-only range tokens: `fixtures/xychart/upstream_xychart_axis_title_and_decimal_range_jison_spec.mmd`
- x-axis band category whitespace concatenation: `fixtures/xychart/upstream_xychart_xaxis_band_cat2asdf_jison_spec.mmd`
- x-axis quoted axis title preserves inner spaces: `fixtures/xychart/upstream_xychart_xaxis_quoted_title_with_spaces_jison_spec.mmd`
- plot titles + signed/decimal numbers: `fixtures/xychart/upstream_xychart_plot_numbers_and_titles_jison_spec.mmd`
- y-axis quoted axis title preserves inner spaces: `fixtures/xychart/upstream_xychart_yaxis_quoted_title_with_spaces_jison_spec.mmd`
- y-axis range without title: `fixtures/xychart/upstream_xychart_yaxis_range_without_title_jison_spec.mmd`
- accept `line[1,2,3]` (no whitespace after keyword): `crates/merman-core/src/diagrams/xychart.rs:1225`
- error cases (invalid ranges/brackets/numbers): `crates/merman-core/src/diagrams/xychart.rs:1233`

Non-upstream (DB behavior lock-in):

- auto-derive axes when omitted: `fixtures/xychart/upstream_xychart_autoderive_axes_db.mmd`
- band categories longer than plot values (missing values become `null`): `fixtures/xychart/upstream_xychart_band_mismatch_db.mmd`
