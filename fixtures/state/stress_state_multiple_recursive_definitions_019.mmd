stateDiagram-v2
%% Authored stress fixture (Mermaid@11.12.2): multiple recursive state definitions split across the diagram.

[*] --> NotShooting

state NotShooting {
  [*] --> Idle
  Idle --> Configuring : EvConfig
  Configuring --> Idle : EvConfig
}

state Configuring {
  [*] --> NewValueSelection
  NewValueSelection --> NewValuePreview : EvNewValue
  NewValuePreview --> NewValueSelection : EvRejected
  NewValuePreview --> NewValueSelection : EvSaved
}

state NewValuePreview {
  State1 --> State2 : step
  State2 --> State1 : back
}

