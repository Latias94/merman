stateDiagram-v2
%% Authored stress fixture (Mermaid@11.12.2): composite state self-links + inner self-loops with labels.

[*] --> Active

state Active {
  [*] --> Ready
  Ready --> Ready : ping
  Ready --> Working : start
  Working --> Working : progress
  Working --> Ready : done
}

Active --> Active : re-enter
Active --> [*] : stop

